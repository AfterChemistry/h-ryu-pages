<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Tools – Frequency–Wavelength–Wavenumber Converter</title>

  <style>
    :root{
      --bg:#f5f6fa; --card:#fff; --text:#20242a; --muted:#5c6270;
      --border:#e6e9ef; --shadow:0 8px 24px rgba(23,31,56,.08); --radius:16px;
      --primary:#4a90e2; --accent:#212a74; --rose:#d81b60; --grid:#eceef4;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;line-height:1.6}
    a{color:var(--primary);text-decoration:none}
    a:hover{opacity:.88}

    /* Header */
    .site-header{position:sticky;top:0;z-index:40;background:#fff;border-bottom:1px solid var(--border)}
    .header-inner{max-width:1200px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:14px 20px}
    .brand{display:flex;flex-direction:column}
    .brand .title{font-weight:800;color:var(--accent);font-size:1.15rem;margin:0}
    .brand .desc{color:var(--muted);font-size:.92rem}

    /* Main nav */
    .nav ul{list-style:none;margin:0;padding:0;display:flex;gap:18px;align-items:center}
    .nav a{padding:8px 10px;border-radius:10px}
    .nav a[aria-current="page"]{background:rgba(74,144,226,.12);color:var(--accent);font-weight:600}

    /* ✅ 下拉菜单：缓冲悬停（与 presentation 一致的好点到） */
    .nav li{position:relative;padding-bottom:6px}
    .nav li::after{content:"";position:absolute;left:0;right:0;height:8px;bottom:-8px}
    .nav .submenu{
      position:absolute;z-index:50;top:100%;left:0;margin-top:6px;min-width:220px;
      background:#fff;border:1px solid var(--border);border-radius:12px;box-shadow:var(--shadow);
      padding:8px;opacity:0;visibility:hidden;transform:translateY(6px);
      transition:opacity .25s,transform .25s,visibility .25s;pointer-events:none
    }
    .nav li:hover .submenu,.nav li:focus-within .submenu{
      opacity:1;visibility:visible;transform:translateY(0);pointer-events:auto
    }
    .nav .submenu a{display:block;padding:8px 10px;border-radius:8px;white-space:nowrap}
    .nav .submenu a:hover{background:#f3f6fb}

    /* Layout & cards */
    .container{max-width:1200px;margin:18px auto;padding:0 20px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px;margin-bottom:20px}
    .page-title{font-size:1.6rem;margin:0 0 2px;font-weight:800;color:var(--accent)}
    .title{font-size:1.8em;margin:0 0 6px;font-weight:800;color:#4a90e2}
    .subtitle{margin:0 0 14px;color:var(--muted);font-size:.98rem}

    /* Calculator */
    .calc-table{display:flex;flex-direction:column;gap:14px}
    .calc-row{display:flex;flex-wrap:wrap;gap:16px}
    .calc-group{display:flex;flex-direction:column;flex:1 1 320px;min-width:280px}
    .calc-label{font-weight:700;margin-bottom:6px;color:var(--accent)}
    .calc-input,.calc-select{
      height:40px;border:1px solid var(--border);border-radius:10px;padding:0 10px;font-size:1rem;background:#fff;outline:none;
      transition:border-color .15s, box-shadow .15s
    }
    .calc-input:focus,.calc-select:focus{border-color:var(--primary);box-shadow:0 0 0 3px rgba(74,144,226,.14)}
    .note{font-size:.92rem;color:var(--muted);margin-top:6px}

    /* Chart */
    .chart-block{width:100%;height:560px}

    /* Spectrum */
    .rainbow-bar{width:100%;height:16px;border-radius:999px;margin:0 auto 12px auto;box-shadow:var(--shadow);display:grid;grid-template-columns:repeat(7,1fr);overflow:hidden;border:1px solid var(--border)}
    .rainbow-labels{display:grid;grid-template-columns:repeat(7,1fr);gap:8px;text-align:center;align-items:end;font-size:0.98rem}
    .band-title{font-weight:800;color:var(--accent)}
    .band-range{color:#5d616a;margin-bottom:3px}
    .band-wl{color:var(--rose)}
    .caption{color:var(--muted);text-align:center;font-size:.95rem;margin-top:8px}

    /* Footer */
    .site-footer{margin-top:28px;border-top:1px solid var(--border);background:#fff}
    .footer-inner{max-width:1200px;margin:0 auto;padding:14px 20px;display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}
    .footer-nav ul{list-style:none;margin:0;padding:0;display:flex;gap:16px;flex-wrap:wrap}
    .copyright{color:var(--muted);font-size:.92rem}

    @media (max-width:720px){
      .nav ul{gap:10px;flex-wrap:wrap}
      .rainbow-labels{font-size:.92rem}
    }
  </style>

  <!-- Chart.js：如果 CDN 被 CSP 拦截，请把 FALLBACK_CHART_SRC 换成你本地路径 -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.4/dist/chart.umd.min.js" defer></script>
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <a class="title" href="/">Haonan LIU’s Personal Page</a>
        <div class="desc">Ph.D., Assistant Professor, Institute of Science Tokyo</div>
      </div>
      <nav class="nav" aria-label="Main">
        <ul>
          <li><a href="/">Home</a></li>
          <li>
            <a href="/profile/">Profile</a>
            <div class="submenu" role="menu" aria-label="Profile submenu">
              <a href="/profile/current_topic/">Current Topics</a>
              <a href="/profile/publication/">Publication</a>
              <a href="/profile/presentation/">Presentation</a>
              <a href="/patent/">Patent</a>
              <a href="/wp-content/uploads/2025/03/Chinese_CV.pdf">Chinese CV</a>
            </div>
          </li>
          <li><a href="/category/posts/">Posts</a></li>
          <li><a href="/links/">Links</a></li>
          <li><a href="/tools/" aria-current="page">Tools</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Main -->
  <main class="container">
    <section class="card">
      <div class="page-title">Tools</div>
    </section>

    <!-- Converter -->
    <section class="card">
      <h1 class="title">Frequency–Wavelength–Wavenumber Converter</h1>
      <p class="subtitle">Calculated in vacuum (c = 299,792,458 m/s). Enter any field and the others will update automatically.</p>

      <form class="calc-table" autocomplete="off" onsubmit="return false;">
        <div class="calc-row">
          <div class="calc-group">
            <label class="calc-label" for="freq">Frequency</label>
            <input type="number" id="freq" step="any" class="calc-input" inputmode="decimal" />
            <select id="freqUnit" class="calc-select" aria-label="Frequency unit">
              <option value="1">Hz</option>
              <option value="1e3">kHz</option>
              <option value="1e6">MHz</option>
              <option value="1e9" selected>GHz</option>
              <option value="1e12">THz</option>
            </select>
          </div>

          <div class="calc-group">
            <label class="calc-label" for="wavelength">Wavelength</label>
            <input type="number" id="wavelength" step="any" class="calc-input" inputmode="decimal" />
            <select id="wlUnit" class="calc-select" aria-label="Wavelength unit">
              <option value="1e-6">μm</option>
              <option value="1e-3">mm</option>
              <option value="1e-2">cm</option>
              <option value="1e-9">nm</option>
            </select>
          </div>

          <div class="calc-group">
            <label class="calc-label" for="wavenumber">Wavenumber</label>
            <input type="number" id="wavenumber" step="any" class="calc-input" inputmode="decimal" />
            <select id="wnUnit" class="calc-select" aria-label="Wavenumber unit">
              <option value="1">cm⁻¹</option>
              <option value="10">mm⁻¹</option>
              <option value="10000">μm⁻¹</option>
            </select>
          </div>
        </div>
      </form>

      <div class="note">Tip: Supports decimals and scientific notation (e.g., 3e2). Units auto-convert when changed.</div>
    </section>

    <!-- Chart -->
    <section class="card">
      <div class="chart-block"><canvas id="chart"></canvas></div>
    </section>

    <!-- Spectrum -->
    <section class="card">
      <div class="rainbow-bar" aria-hidden="true">
        <div style="background:linear-gradient(to right,#a9b9d9,#60cfc7)"></div>
        <div style="background:linear-gradient(to right,#60cfc7,#f4e57d)"></div>
        <div style="background:linear-gradient(to right,#f4e57d,#fe0000)"></div>
        <div style="background:linear-gradient(to right,#fe0000 0%,#fe0 25%,#0f0 50%,#00f 75%,#8b00ff 100%)"></div>
        <div style="background:linear-gradient(to right,#8b00ff,#e2c6e4)"></div>
        <div style="background:linear-gradient(to right,#e2c6e4,#b7bad7)"></div>
        <div style="background:linear-gradient(to right,#b7bad7,#e6e6f3)"></div>
      </div>

      <div class="rainbow-labels">
        <div>
          <div class="band-title">Radio</div>
          <div class="band-range">~1 Hz – 3 GHz</div>
          <div class="band-wl">~3×10⁸ – 10 cm</div>
        </div>
        <div>
          <div class="band-title">Microwave</div>
          <div class="band-ran
